<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto PCR - Reunião de Validação</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #1e88e5 0%, #26a69a 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            color: #1565c0;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: #546e7a;
            font-size: 1.2em;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .section h2 {
            color: #1565c0;
            border-bottom: 3px solid #26a69a;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        .section h3 {
            color: #2e7d32;
            margin: 20px 0 15px 0;
            font-size: 1.3em;
        }

        .editable {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            min-height: 50px;
            cursor: text;
            transition: all 0.3s ease;
        }

        .editable:hover {
            border-color: #26a69a;
            background: #e0f2f1;
        }

        .editable:focus {
            outline: none;
            border-color: #1e88e5;
            border-style: solid;
            background: white;
        }

        .swot-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .swot-item {
            padding: 20px;
            border-radius: 10px;
            min-height: 150px;
        }

        .strengths { background: #d4f6d4; border-left: 5px solid #28a745; }
        .weaknesses { background: #ffe6e6; border-left: 5px solid #dc3545; }
        .opportunities { background: #e6f3ff; border-left: 5px solid #007bff; }
        .threats { background: #fff3e0; border-left: 5px solid #fd7e14; }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .team-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .phase-timeline {
            position: relative;
            margin: 30px 0;
        }

        .phase-item {
            display: flex;
            margin-bottom: 30px;
            align-items: flex-start;
        }

        .phase-number {
            background: #26a69a;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .phase-content {
            flex: 1;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #26a69a;
        }

        .gantt-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .gantt-header {
            display: grid;
            grid-template-columns: 200px repeat(16, 1fr);
            gap: 1px;
            margin-bottom: 10px;
        }

        .gantt-cell {
            padding: 10px;
            background: #f1f3f4;
            text-align: center;
            font-size: 0.9em;
            border-radius: 4px;
        }

        .gantt-row {
            display: grid;
            grid-template-columns: 200px repeat(16, 1fr);
            gap: 1px;
            margin-bottom: 5px;
            align-items: center;
        }

        .gantt-task {
            padding: 8px;
            background: #e3f2fd;
            font-size: 0.9em;
            font-weight: bold;
        }

        .gantt-bar {
            height: 25px;
            background: #1e88e5;
            border-radius: 4px;
            cursor: move;
            transition: background 0.3s ease;
            position: relative;
            user-select: none;
            min-width: 30px;
        }

        .gantt-bar:hover {
            background: #1565c0;
        }

        .gantt-bar.dragging {
            opacity: 0.7;
            z-index: 1000;
        }

        .gantt-bar::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            width: 6px;
            height: 100%;
            background: #0d47a1;
            cursor: ew-resize;
            border-radius: 0 4px 4px 0;
        }

        .gantt-bar.completed {
            background: #2e7d32;
        }

        .gantt-bar.completed:hover {
            background: #1b5e20;
        }

        .competitor-card {
            background: #fff3e0;
            border: 1px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .risk-high { color: #dc3545; font-weight: bold; }
        .risk-medium { color: #fd7e14; font-weight: bold; }
        .risk-low { color: #28a745; font-weight: bold; }

        .btn {
            background: #1e88e5;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            transition: background 0.3s ease;
        }

        .btn:hover {
            background: #1565c0;
        }

        .btn-success { background: #2e7d32; }
        .btn-success:hover { background: #1b5e20; }

        .btn-danger { background: #d32f2f; }
        .btn-danger:hover { background: #b71c1c; }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-pending { background: #ffc107; }
        .status-approved { background: #2e7d32; }
        .status-rejected { background: #d32f2f; }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .phase-details-btn {
            background: #26a69a;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background 0.3s ease;
            white-space: nowrap;
            margin-left: 15px;
        }

        .phase-details-btn:hover {
            background: #00796b;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            border-bottom: 2px solid #26a69a;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }

        .modal-header h3 {
            color: #1565c0;
            margin: 0;
            font-size: 1.5em;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            color: #999;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover,
        .close:focus {
            color: #d32f2f;
        }

        .modal-section {
            margin-bottom: 25px;
        }

        .modal-section h4 {
            color: #2e7d32;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .modal-editable {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            padding: 15px;
            border-radius: 8px;
            min-height: 100px;
            cursor: text;
            transition: all 0.3s ease;
        }

        .modal-editable:hover {
            border-color: #26a69a;
            background: #e0f2f1;
        }

        .modal-editable:focus {
            outline: none;
            border-color: #1e88e5;
            border-style: solid;
            background: white;
        }

        .bullet-btn {
            background: #1e88e5;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            margin: 5px 5px 5px 0;
        }

        .bullet-btn:hover {
            background: #1565c0;
        }

        .modal-footer {
            border-top: 1px solid #dee2e6;
            padding-top: 20px;
            margin-top: 30px;
            text-align: right;
        }

        @media (max-width: 768px) {
            .swot-grid {
                grid-template-columns: 1fr;
            }
            
            .gantt-header, .gantt-row {
                grid-template-columns: 150px repeat(16, 50px);
            }
            
            .modal-content {
                width: 95%;
                margin: 2% auto;
                padding: 20px;
            }
            
            .phase-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .phase-details-btn {
                align-self: flex-start;
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Projeto PCR - Precificação de Risco Climático</h1>
            <p>Reunião de Validação do Plano de Trabalho</p>
            <p><strong>Data:</strong> <span contenteditable="true" class="editable" style="display: inline-block; min-width: 150px;">23/05/2025</span></p>
        </div>

        <!-- SEÇÃO 1: GO/NO-GO DECISION -->
        <div class="section">
            <h2>1. Decisão Go/No-Go</h2>
            
            <h3>Análise SWOT</h3>
            <div class="swot-grid">
                <div class="swot-item strengths">
                    <h4><strong>Forças (Strengths)</strong></h4>
                    <div contenteditable="true" class="editable">
                        • Equipe multidisciplinar especializada<br>
                        • Parceria técnica com AtmosMarine<br>
                        • Uso de biblioteca consolidada (CLIMADA)<br>
                        • Experiência da EVP em consultoria ESG<br>
                        • Abordagem incremental (POC → MVP)
                    </div>
                </div>
                
                <div class="swot-item weaknesses">
                    <h4><strong>Fraquezas (Weaknesses)</strong></h4>
                    <div contenteditable="true" class="editable">
                        • Dependência de biblioteca externa (CLIMADA)<br>
                        • Equipe nova trabalhando em conjunto<br>
                        • Complexidade técnica alta<br>
                        • Tempo limitado para POC (415 horas)<br>
                        • Uso inicial de dados fictícios
                    </div>
                </div>
                
                <div class="swot-item opportunities">
                    <h4><strong>Oportunidades (Opportunities)</strong></h4>
                    <div contenteditable="true" class="editable">
                        • Crescente demanda por avaliação de risco físico<br>
                        • Regulamentações ESG em expansão<br>
                        • Mercado de precificação climática emergente<br>
                        • Potencial de diferenciação da EVP<br>
                        • Escalabilidade para outros setores
                    </div>
                </div>
                
                <div class="swot-item threats">
                    <h4><strong>Ameaças (Threats)</strong></h4>
                    <div contenteditable="true" class="editable">
                        • Concorrentes já estabelecidos<br>
                        • Complexidade de validação científica<br>
                        • Dependência de dados climáticos externos<br>
                        • Possível resistência do mercado<br>
                        • Evolução rápida das regulamentações
                    </div>
                </div>
            </div>

            <h3>Análise de Concorrentes</h3>
            <div class="competitor-card">
                <h4><strong>Management Solutions</strong> (www.managementsolutions.com)</h4>
                <div contenteditable="true" class="editable">
                    <strong>Pontos Fortes:</strong> Experiência consolidada, presença global, soluções integradas<br>
                    <strong>Diferenciação EVP:</strong> Foco no mercado brasileiro, especialização offshore, customização local
                </div>
            </div>
            
            <div class="competitor-card">
                <h4><strong>Earth-Scan</strong> (www.earth-scan.com)</h4>
                <div contenteditable="true" class="editable">
                    <strong>Pontos Fortes:</strong> Tecnologia de sensoriamento, análise geoespacial<br>
                    <strong>Diferenciação EVP:</strong> Integração com CLIMADA, foco em ativos marítimos, expertise local
                </div>
            </div>

            <h3>Principais Obstáculos Identificados</h3>
            <div contenteditable="true" class="editable">
                <span class="risk-high">Alto Risco:</span> Complexidade de integração com CLIMADA<br>
                <span class="risk-medium">Médio Risco:</span> Disponibilidade e qualidade dos dados climáticos<br>
                <span class="risk-medium">Médio Risco:</span> Sincronização entre equipes geograficamente distribuídas<br>
                <span class="risk-low">Baixo Risco:</span> Capacitação técnica da equipe<br>
                <span class="risk-low">Baixo Risco:</span> Aceitação do mercado para a POC
            </div>

            <h3>Decisão</h3>
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-success" onclick="updateStatus('approved')">
                    <span class="status-indicator status-approved"></span>GO - Aprovar Projeto
                </button>
                <button class="btn btn-danger" onclick="updateStatus('rejected')">
                    <span class="status-indicator status-rejected"></span>NO-GO - Rejeitar Projeto
                </button>
                <button class="btn" onclick="updateStatus('pending')">
                    <span class="status-indicator status-pending"></span>Pendente - Revisões Necessárias
                </button>
            </div>
            <div id="decision-status" contenteditable="true" class="editable">
                Status da Decisão: Aguardando discussão...
            </div>
        </div>

        <!-- SEÇÃO 2: VALIDAÇÃO DO PLANO -->
        <div class="section">
            <h2>2. Validação do Plano de Trabalho</h2>
            
            <h3>Equipes e Expertises Necessárias</h3>
            <div class="team-grid">
                <div class="team-card">
                    <h4><strong>Gerência e Consultoria ESG</strong></h4>
                    <p><strong>Expertise:</strong> Coordenação, gestão de projetos, conhecimento ESG</p>
                    <p><strong>Responsabilidades:</strong> Coordenação geral, cronograma, entregas, apoio estratégico</p>
                    <p><strong>Horas Totais:</strong> 51h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Modelagem</strong></h4>
                    <p><strong>Expertise:</strong> Modelos quantitativos, risco físico, CLIMADA</p>
                    <p><strong>Responsabilidades:</strong> Desenvolvimento e validação dos modelos de risco</p>
                    <p><strong>Horas Totais:</strong> 77h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Desenvolvimento Python</strong></h4>
                    <p><strong>Expertise:</strong> Programação Python, integração de dados, interface</p>
                    <p><strong>Responsabilidades:</strong> Codificação da plataforma, integração CLIMADA</p>
                    <p><strong>Horas Totais:</strong> 119h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Especialista em Mudanças Climáticas</strong></h4>
                    <p><strong>Expertise:</strong> Climatologia, cenários climáticos, validação científica</p>
                    <p><strong>Responsabilidades:</strong> Curadoria de dados climáticos, definição de cenários</p>
                    <p><strong>Horas Totais:</strong> 61h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Equipe de Risco</strong></h4>
                    <p><strong>Expertise:</strong> Métodos estatísticos, atuariais, quantitativos</p>
                    <p><strong>Responsabilidades:</strong> Revisão metodológica, precificação, Primavera</p>
                    <p><strong>Horas Totais:</strong> 41h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>AtmosMarine</strong></h4>
                    <p><strong>Expertise:</strong> Dados meteo-oceanográficos, validação científica</p>
                    <p><strong>Responsabilidades:</strong> Múltiplas frentes, dados climaticos, risco offshore</p>
                    <p><strong>Horas Totais:</strong> 66h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
            </div>

            <h3>Fases do Projeto - Validação</h3>
            <div class="phase-timeline">
                <div class="phase-item">
                    <div class="phase-number">0</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Kick-off e Alinhamento (1 semana - 9h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(0)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Reunião inicial, definição de papéis, fluxo de comunicação<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong> 
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">1</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Planejamento e Arquitetura (2 semanas - 48h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(1)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Mapear funcionalidades, definir arquitetura, selecionar tecnologias, criar repositório<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">2</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Exploração CLIMADA (2 semanas - 64h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(2)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Instalar CLIMADA, executar exemplos, testes com dados sintéticos, documentar requisitos<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">3</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Integração Dados Climáticos (3 semanas - 84h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(3)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Coletar dados ERA5, desenvolver pipeline de ingestão, testes com dados sintéticos<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">4</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Modelagem Ativos Fictícios (2 semanas - 72h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(4)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Criar base fictícia, implementar cálculos AAL/VaR, gerar resultados<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">5</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Interface e Relatórios (3 semanas - 88h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(5)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Interface gráfica, automatizar relatórios PDF/HTML<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">6</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Validação e Documentação (1 semana - 50h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(6)">📋 Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Validar resultados, documentar processo, reunião Go/No-Go MVP<br>
                            <strong>Validação:</strong> OK / Necessita ajustes<br>
                            <strong>Comentários:</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO 3: CRONOGRAMA GANTT -->
        <div class="section">
            <h2>3. Cronograma Gantt Interativo</h2>
            
            <div class="gantt-container">
                <div class="gantt-header">
                    <div class="gantt-cell"><strong>Fase</strong></div>
                    <div class="gantt-cell">S1</div>
                    <div class="gantt-cell">S2</div>
                    <div class="gantt-cell">S3</div>
                    <div class="gantt-cell">S4</div>
                    <div class="gantt-cell">S5</div>
                    <div class="gantt-cell">S6</div>
                    <div class="gantt-cell">S7</div>
                    <div class="gantt-cell">S8</div>
                    <div class="gantt-cell">S9</div>
                    <div class="gantt-cell">S10</div>
                    <div class="gantt-cell">S11</div>
                    <div class="gantt-cell">S12</div>
                    <div class="gantt-cell">S13</div>
                    <div class="gantt-cell">S14</div>
                    <div class="gantt-cell">S15</div>
                    <div class="gantt-cell">S16</div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 0: Kick-off</div>
                    <div class="gantt-bar" style="background: #ff6b6b;" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 1: Planejamento</div>
                    <div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 2: CLIMADA</div>
                    <div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 3: Dados Climáticos</div>
                    <div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 4: Modelagem</div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 5: Interface</div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 6: Validação</div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" style="background: #28a745;" onclick="toggleTask(this)"></div>
                    <div></div><div></div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <p><strong>Legenda e Controles:</strong></p>
                <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
                    <div style="display: flex; align-items: center;">
                        <span class="gantt-bar" style="background: #ff6b6b; display: inline-block; width: 20px; height: 20px; margin-right: 8px;"></span>Kick-off
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span class="gantt-bar" style="background: #1e88e5; display: inline-block; width: 20px; height: 20px; margin-right: 8px;"></span>Fases Regulares
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span class="gantt-bar completed" style="display: inline-block; width: 20px; height: 20px; margin-right: 8px;"></span>Concluída
                    </div>
                    <button class="btn" onclick="resetGantt()" style="margin-left: 20px; padding: 8px 16px; font-size: 0.9em;">🔄 Resetar Gantt</button>
                </div>
            </div>
            
            <h3>Considerações sobre Paralelismo</h3>
            <div contenteditable="true" class="editable">
                • Fases 2 e 3 podem ter início sobreposto após validação inicial da CLIMADA<br>
                • Fase 4 depende da conclusão das Fases 2 e 3<br>
                • Fase 5 pode iniciar em paralelo com a finalização da Fase 4<br>
                • Documentação (Fase 6) pode ser iniciada antes das fases anteriores terminarem
            </div>
        </div>

        <!-- SEÇÃO 4: PRÓXIMOS PASSOS -->
        <div class="section">
            <h2>4. Próximos Passos</h2>
            
            <h3>Ações Imediatas (próximos 7 dias)</h3>
            <div contenteditable="true" class="editable">
                □ Definir nomes das pessoas de cada equipe<br>
                □ Estabelecer cronograma detalhado com datas específicas<br>
                □ Configurar ambiente de trabalho colaborativo (repositório, comunicação)<br>
                □ Definir métricas de sucesso para cada fase<br>
                □ Agendar reuniões de acompanhamento semanais
            </div>
            
            <h3>Recursos Necessários</h3>
            <div contenteditable="true" class="editable">
                <strong>Tecnológicos:</strong><br>
                • Acesso às bases de dados climáticos (ERA5)<br>
                • Licenças de software necessário<br>
                • Ambiente de desenvolvimento Python<br>
                • Repositório centralizado (GitHub/GitLab)<br><br>
                
                <strong>Humanos:</strong><br>
                • Confirmação da disponibilidade das pessoas indicadas<br>
                • Definição de backup para funções críticas<br>
                • Treinamento específico em CLIMADA se necessário<br><br>
                
                <strong>Financeiros:</strong><br>
                • Orçamento detalhado com base nas 415 horas estimadas<br>
                • Contingência para eventuais necessidades extras<br>
                • Custos de infraestrutura e dados
            </div>
            
            <h3>Critérios de Sucesso da POC</h3>
            <div contenteditable="true" class="editable">
                1. Plataforma funcional capaz de calcular AAL e VaR para ativos fictícios<br>
                2. Interface gráfica intuitiva e funcional<br>
                3. Relatórios automatizados em formato executivo<br>
                4. Documentação técnica completa e replicável<br>
                5. Validação científica dos resultados obtidos<br>
                6. Cronograma cumprido dentro do prazo estabelecido
            </div>
            
            <h3>Reunião de Acompanhamento</h3>
            <div contenteditable="true" class="editable">
                <strong>Próxima reunião:</strong> [Data a definir]<br>
                <strong>Frequência:</strong> Semanal<br>
                <strong>Formato:</strong> Híbrido (presencial/virtual)<br>
                <strong>Duração:</strong> 60 minutos<br>
                <strong>Responsável:</strong> Gerência ESG
            </div>
        </div>

        <!-- SEÇÃO DE NOTAS -->
        <div class="section">
            <h2>5. Notas da Reunião</h2>
            <div contenteditable="true" class="editable" style="min-height: 200px;">
                Espaço para anotações durante a reunião...
                
                Participantes:
                -
                -
                -
                
                Decisões tomadas:
                -
                -
                -
                
                Action items:
                -
                -
                -
            </div>
        </div>
    </div>

    <!-- MODALS PARA DETALHES DAS FASES -->
    <div id="phaseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <h3 id="modalTitle">Detalhes da Fase</h3>
            </div>
            <div id="modalBody">
                <!-- Conteúdo será preenchido dinamicamente -->
            </div>
            <div class="modal-footer">
                <button class="btn bullet-btn" onclick="addBullet()">• Adicionar Bullet</button>
                <button class="btn bullet-btn" onclick="addSubBullet()">◦ Adicionar Sub-bullet</button>
                <button class="btn" onclick="closeModal()">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        // Dados detalhados das fases baseados no plano de trabalho
        const phaseDetails = {
            0: {
                title: "Fase 0 - Kick-off e Alinhamento (1 semana - 9h)",
                objective: "Estabelecer o escopo do trabalho e alinhar expectativas quanto aos objetivos, papéis e entregas. Garantir uma base sólida de comunicação e governança.",
                tasks: [
                    "Realizar reunião inicial para alinhamento de objetivos, responsabilidades e cronograma",
                    "Validar o objetivo da plataforma e os critérios de sucesso da POC",
                    "Definir papéis e responsabilidades de cada membro da AtmosMarine, Inovação e EVP",
                    "Estabelecer fluxo de trabalho e processos para versionamento e integração de código",
                    "Definir frequência e formato das reuniões de acompanhamento",
                    "Estabelecer premissas sobre o uso de dados fictícios e reais ao longo do projeto",
                    "Criar diretrizes para comunicação e resolução de conflitos",
                    "Planejar etapas futuras e marco de avaliação para transição da POC para o MVP"
                ],
                deliverables: [
                    "Documento de alinhamento de expectativas",
                    "Cronograma detalhado validado",
                    "Matriz de responsabilidades",
                    "Fluxo de comunicação estabelecido"
                ]
            },
            1: {
                title: "Fase 1 - Planejamento Inicial e Arquitetura da Plataforma (2 semanas - 48h)",
                objective: "Estruturação técnica do projeto e definição de escopo mínimo viável da plataforma, garantindo uma fundação robusta para as etapas futuras.",
                tasks: [
                    "Mapear funcionalidades prioritárias e requisitos técnicos essenciais",
                    "Definir arquitetura geral (dados, modelos, interface)",
                    "Selecionar tecnologias (CLIMADA, Python, Streamlit)",
                    "Criar repositório centralizado e ambiente inicial de desenvolvimento",
                    "Estruturar como os dados serão organizados",
                    "Planejar integração dos modelos CLIMADA",
                    "Definir como os resultados serão disponibilizados ao frontend"
                ],
                deliverables: [
                    "Documento de arquitetura da solução",
                    "Repositório configurado",
                    "Ambiente de desenvolvimento estabelecido",
                    "Stack tecnológica definida"
                ]
            },
            2: {
                title: "Fase 2 - Exploração Técnica da Biblioteca CLIMADA (2 semanas - 64h)",
                objective: "Entender profundamente o funcionamento e requisitos da biblioteca CLIMADA, testando suas capacidades com dados de exemplo para reduzir riscos técnicos futuros.",
                tasks: [
                    "Instalar e executar exemplos demonstrativos da CLIMADA",
                    "Reproduzir notebooks e códigos de referência da biblioteca",
                    "Entender a lógica e funcionamento dos módulos principais (hazard, exposure, impact functions)",
                    "Realizar testes iniciais utilizando variáveis sintéticas e fictícias",
                    "Simular entradas simplificadas (ativos genéricos em regiões conhecidas)",
                    "Verificar se os outputs da biblioteca fazem sentido",
                    "Documentar requisitos obrigatórios, limitações técnicas e necessidades futuras"
                ],
                deliverables: [
                    "Documentação técnica da CLIMADA",
                    "Exemplos funcionais executados",
                    "Relatório de limitações e requisitos",
                    "Testes iniciais validados"
                ]
            },
            3: {
                title: "Fase 3 - Integração de Dados Climáticos Abertos (3 semanas - 84h)",
                objective: "Estruturação do pipeline de dados climáticos confiáveis, base fundamental para cálculos de risco consistentes e replicáveis dentro da plataforma.",
                tasks: [
                    "Identificar e coletar dados climáticos abertos (ERA5 e históricos climáticos)",
                    "Levantar bases públicas e confiáveis, preferencialmente com acesso via API",
                    "Avaliar cobertura espacial e temporal necessária para os ativos modelados",
                    "Desenvolver uma rotina inicial de ingestão de dados para validação",
                    "Programar scripts para carregar, tratar e transformar dados climáticos",
                    "Adaptar dados para o formato esperado pela CLIMADA",
                    "Implementar testes automatizados",
                    "Realizar testes preliminares com dados sintéticos"
                ],
                deliverables: [
                    "Pipeline de ingestão de dados funcionando",
                    "Scripts de tratamento de dados",
                    "Testes automatizados implementados",
                    "Documentação do processo de dados"
                ]
            },
            4: {
                title: "Fase 4 - Modelagem de Ativos da OceanPact (Fictícios) (2 semanas - 72h)",
                objective: "Teste dos modelos com ativos representativos da realidade do cliente, mesmo que simulados, para garantir a coerência e utilidade da metodologia aplicada.",
                tasks: [
                    "Criar base fictícia com diferentes tipos de ativos",
                    "Definir coordenadas, valor e vida útil dos ativos",
                    "Elaborar estrutura representando navios, embarcações ou estruturas fixas",
                    "Implementar o cálculo dos principais indicadores de risco (AAL e VaR)",
                    "Adaptar os modelos da CLIMADA para essa base",
                    "Gerar métricas de impacto econômico associadas a eventos extremos",
                    "Gerar e validar resultados iniciais em formatos padronizados",
                    "Exportar outputs em CSV ou JSON"
                ],
                deliverables: [
                    "Base de ativos fictícios criada",
                    "Modelos de cálculo implementados",
                    "Relatórios de AAL e VaR",
                    "Resultados em formatos padronizados"
                ]
            },
            5: {
                title: "Fase 5 - Desenvolvimento da Interface Gráfica e Relatórios Automáticos (3 semanas - 88h)",
                objective: "Transformar os resultados técnicos em visualizações e relatórios compreensíveis para o público-alvo, essencial para usabilidade e aceitação da solução.",
                tasks: [
                    "Construir uma interface gráfica interativa para visualização clara e acessível",
                    "Criar um dashboard simples e funcional",
                    "Implementar filtros por ativo, tipo de evento e cenário climático",
                    "Utilizar Streamlit, Gradio ou framework equivalente",
                    "Automatizar geração de relatórios simplificados em PDF ou HTML",
                    "Gerar documentos organizados e ilustrados com os resultados da modelagem",
                    "Preparar relatórios prontos para apresentação aos tomadores de decisão"
                ],
                deliverables: [
                    "Interface gráfica funcional",
                    "Dashboard interativo",
                    "Sistema de relatórios automatizado",
                    "Documentação de usuário"
                ]
            },
            6: {
                title: "Fase 6 - Validação Técnica e Documentação da POC (1 semana - 50h)",
                objective: "Verificação da qualidade, confiabilidade e completude da POC. Documentar o conhecimento gerado e estabelecer critérios objetivos para prosseguir ao MVP.",
                tasks: [
                    "Validar resultados frente a referências científicas e técnicas",
                    "Revisar as saídas da CLIMADA",
                    "Comparar com benchmarks de literatura",
                    "Verificar coerência metodológica",
                    "Documentar todo o processo realizado",
                    "Identificar claramente limitações e próximos passos",
                    "Registrar decisões técnicas, aprendizados e lacunas detectadas",
                    "Realizar reunião final para decisão de avanço para o MVP (Go/No-Go)"
                ],
                deliverables: [
                    "Relatório de validação técnica",
                    "Documentação completa do processo",
                    "Análise de limitações e próximos passos",
                    "Recomendação Go/No-Go para MVP"
                ]
            }
        };

        let currentPhaseIndex = null;

        function openPhaseModal(phaseIndex) {
            currentPhaseIndex = phaseIndex;
            const phase = phaseDetails[phaseIndex];
            const modal = document.getElementById('phaseModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');

            modalTitle.textContent = phase.title;
            
            modalBody.innerHTML = `
                <div class="modal-section">
                    <h4>🎯 Objetivo</h4>
                    <div class="modal-editable" contenteditable="true" id="objective-${phaseIndex}">
                        ${phase.objective}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>📋 Principais Tarefas</h4>
                    <div class="modal-editable" contenteditable="true" id="tasks-${phaseIndex}">
                        ${phase.tasks.map(task => `• ${task}`).join('<br>')}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>📦 Entregas Esperadas</h4>
                    <div class="modal-editable" contenteditable="true" id="deliverables-${phaseIndex}">
                        ${phase.deliverables.map(deliverable => `• ${deliverable}`).join('<br>')}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>💡 Observações e Ajustes</h4>
                    <div class="modal-editable" contenteditable="true" id="notes-${phaseIndex}">
                        • Adicione observações específicas da reunião aqui...
                    </div>
                </div>
            `;

            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('phaseModal').style.display = 'none';
        }

        function addBullet() {
            const activeElement = document.activeElement;
            if (activeElement && activeElement.classList.contains('modal-editable')) {
                const selection = window.getSelection();
                const range = selection.getRangeAt(0);
                
                // Cria um novo elemento de texto com bullet
                const bulletText = document.createTextNode('\n• ');
                range.insertNode(bulletText);
                
                // Move o cursor para o final do texto inserido
                range.setStartAfter(bulletText);
                range.setEndAfter(bulletText);
                selection.removeAllRanges();
                selection.addRange(range);
            } else {
                alert('Clique em uma área editável primeiro');
            }
        }

        function addSubBullet() {
            const activeElement = document.activeElement;
            if (activeElement && activeElement.classList.contains('modal-editable')) {
                const selection = window.getSelection();
                const range = selection.getRangeAt(0);
                
                // Cria um novo elemento de texto com sub-bullet
                const subBulletText = document.createTextNode('\n  ◦ ');
                range.insertNode(subBulletText);
                
                // Move o cursor para o final do texto inserido
                range.setStartAfter(subBulletText);
                range.setEndAfter(subBulletText);
                selection.removeAllRanges();
                selection.addRange(range);
            } else {
                alert('Clique em uma área editável primeiro');
            }
        }

        // Fechar modal clicando fora dele
        window.onclick = function(event) {
            const modal = document.getElementById('phaseModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Fechar modal com ESC
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        function updateStatus(status) {
            const statusDiv = document.getElementById('decision-status');
            const statusMap = {
                'approved': 'Status da Decisão: ✅ APROVADO - Projeto pode prosseguir',
                'rejected': 'Status da Decisão: ❌ REJEITADO - Projeto necessita revisão maior',
                'pending': 'Status da Decisão: ⏳ PENDENTE - Aguardando ajustes e reavaliação'
            };
            statusDiv.innerHTML = statusMap[status];
            statusDiv.style.fontWeight = 'bold';
            statusDiv.style.padding = '15px';
            statusDiv.style.borderRadius = '8px';
            statusDiv.style.backgroundColor = status === 'approved' ? '#e8f5e8' : 
                                            status === 'rejected' ? '#ffebee' : '#fff8e1';
        }

        function toggleTask(element) {
            if (element.classList.contains('completed')) {
                element.classList.remove('completed');
                element.title = 'Clique para marcar como concluído ou arraste para mover/redimensionar';
            } else {
                element.classList.add('completed');
                element.title = 'Tarefa concluída - Clique para desmarcar';
            }
        }

        // Variáveis para drag and drop do Gantt
        let isDragging = false;
        let isResizing = false;
        let currentTask = null;
        let startX = 0;
        let startPosition = 0;
        let startWidth = 0;

        function initGanttInteractivity() {
            const ganttBars = document.querySelectorAll('.gantt-bar');
            
            ganttBars.forEach(bar => {
                bar.addEventListener('mousedown', function(e) {
                    e.preventDefault();
                    
                    const rect = bar.getBoundingClientRect();
                    const isResizeArea = e.clientX > rect.right - 10;
                    
                    if (isResizeArea) {
                        isResizing = true;
                        bar.style.cursor = 'ew-resize';
                        startWidth = bar.offsetWidth;
                    } else {
                        isDragging = true;
                        bar.classList.add('dragging');
                        startPosition = Array.from(bar.parentNode.children).indexOf(bar);
                    }
                    
                    currentTask = bar;
                    startX = e.clientX;
                    
                    document.addEventListener('mousemove', handleMouseMove);
                    document.addEventListener('mouseup', handleMouseUp);
                });
                
                bar.addEventListener('click', function(e) {
                    // Só executa o toggle se não foi um drag/resize
                    if (!isDragging && !isResizing) {
                        toggleTask(bar);
                    }
                });
            });
        }

        function handleMouseMove(e) {
            if (!currentTask) return;
            
            const deltaX = e.clientX - startX;
            
            if (isResizing) {
                const newWidth = Math.max(30, startWidth + deltaX);
                currentTask.style.width = newWidth + 'px';
                currentTask.style.minWidth = newWidth + 'px';
            } else if (isDragging) {
                // Lógica para mover a barra horizontalmente
                const ganttRow = currentTask.parentNode;
                const cells = Array.from(ganttRow.children);
                const cellWidth = cells[1].offsetWidth;
                const moveSteps = Math.round(deltaX / cellWidth);
                
                if (moveSteps !== 0) {
                    moveTaskBar(currentTask, moveSteps);
                    startX = e.clientX;
                }
            }
        }

        function handleMouseUp(e) {
            if (currentTask) {
                currentTask.classList.remove('dragging');
                currentTask.style.cursor = 'move';
            }
            
            isDragging = false;
            isResizing = false;
            currentTask = null;
            
            document.removeEventListener('mousemove', handleMouseMove);
            document.removeEventListener('mouseup', handleMouseUp);
        }

        function moveTaskBar(taskBar, steps) {
            const row = taskBar.parentNode;
            const cells = Array.from(row.children);
            const currentIndex = cells.indexOf(taskBar);
            const newIndex = Math.max(1, Math.min(cells.length - 1, currentIndex + steps));
            
            if (newIndex !== currentIndex && newIndex > 0) {
                // Remove da posição atual
                taskBar.remove();
                
                // Insere na nova posição
                if (newIndex >= cells.length) {
                    row.appendChild(taskBar);
                } else {
                    row.insertBefore(taskBar, cells[newIndex]);
                }
            }
        }

        function resetGantt() {
            if (confirm('Tem certeza que deseja resetar o cronograma Gantt para a configuração original?')) {
                location.reload();
            }
        }

        // Adicionar funcionalidade de salvar alterações localmente
        function saveEdits() {
            const editables = document.querySelectorAll('[contenteditable="true"]');
            const data = {};
            editables.forEach((element, index) => {
                data[`editable_${index}`] = element.innerHTML;
            });
            
            // Salvar também os dados dos modais
            Object.keys(phaseDetails).forEach(phaseIndex => {
                const objective = document.getElementById(`objective-${phaseIndex}`);
                const tasks = document.getElementById(`tasks-${phaseIndex}`);
                const deliverables = document.getElementById(`deliverables-${phaseIndex}`);
                const notes = document.getElementById(`notes-${phaseIndex}`);
                
                if (objective) data[`phase_${phaseIndex}_objective`] = objective.innerHTML;
                if (tasks) data[`phase_${phaseIndex}_tasks`] = tasks.innerHTML;
                if (deliverables) data[`phase_${phaseIndex}_deliverables`] = deliverables.innerHTML;
                if (notes) data[`phase_${phaseIndex}_notes`] = notes.innerHTML;
            });
            
            localStorage.setItem('pcr_meeting_data', JSON.stringify(data));
            
            // Mostrar feedback visual
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '✅ Salvo!';
            btn.style.background = '#2e7d32';
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = '#1e88e5';
            }, 2000);
        }

        function loadEdits() {
            const saved = localStorage.getItem('pcr_meeting_data');
            if (saved) {
                const data = JSON.parse(saved);
                const editables = document.querySelectorAll('[contenteditable="true"]');
                editables.forEach((element, index) => {
                    if (data[`editable_${index}`]) {
                        element.innerHTML = data[`editable_${index}`];
                    }
                });
                
                // Carregar também os dados dos modais para os objetos phaseDetails
                Object.keys(phaseDetails).forEach(phaseIndex => {
                    if (data[`phase_${phaseIndex}_objective`]) {
                        phaseDetails[phaseIndex].objective = data[`phase_${phaseIndex}_objective`];
                    }
                    if (data[`phase_${phaseIndex}_tasks`]) {
                        phaseDetails[phaseIndex].tasks = data[`phase_${phaseIndex}_tasks`].split('<br>').map(t => t.replace('• ', ''));
                    }
                    if (data[`phase_${phaseIndex}_deliverables`]) {
                        phaseDetails[phaseIndex].deliverables = data[`phase_${phaseIndex}_deliverables`].split('<br>').map(d => d.replace('• ', ''));
                    }
                });
                
                alert('Dados anteriores carregados!');
            }
        }

        // Carregar dados salvos ao iniciar
        window.onload = function() {
            // Inicializar interatividade do Gantt
            initGanttInteractivity();
            
            // Adicionar tooltips aos elementos interativos
            document.querySelectorAll('.gantt-bar').forEach(bar => {
                bar.title = 'Clique para marcar como concluído ou arraste para mover/redimensionar';
            });
            
            // Perguntar se quer carregar dados salvos
            if (localStorage.getItem('pcr_meeting_data')) {
                if (confirm('Existem dados salvos anteriormente. Deseja carregá-los?')) {
                    loadEdits();
                }
            }
        };

        // Salvar automaticamente a cada 2 minutos
        setInterval(saveEdits, 120000);

        // Adicionar botões de controle
        document.body.insertAdjacentHTML('beforeend', `
            <div style="position: fixed; bottom: 8px; right: 20px; z-index: 1000;">
                <button class="btn" style="padding: 10px 8px; font-size: 0.7em;" onclick="saveEdits()" title="Salvar alterações">💾 Salvar</button>
                <button class="btn" style="padding: 10px 8px; font-size: 0.7em;" onclick="loadEdits()" title="Carregar dados salvos">📁 Carregar</button>
                <button class="btn" style="padding: 10px 8px; font-size: 0.7em;" onclick="window.print()" title="Imprimir apresentação">🖨️ Imprimir</button>
            </div>
        `);
    </script>
</body>
</html>
