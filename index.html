<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto PCR - Reuni√£o de Valida√ß√£o</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #1e88e5 0%, #26a69a 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            color: #1565c0;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: #546e7a;
            font-size: 1.2em;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .section h2 {
            color: #1565c0;
            border-bottom: 3px solid #26a69a;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        .section h3 {
            color: #2e7d32;
            margin: 20px 0 15px 0;
            font-size: 1.3em;
        }

        .editable {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            min-height: 50px;
            cursor: text;
            transition: all 0.3s ease;
        }

        .editable:hover {
            border-color: #26a69a;
            background: #e0f2f1;
        }

        .editable:focus {
            outline: none;
            border-color: #1e88e5;
            border-style: solid;
            background: white;
        }

        .swot-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .swot-item {
            padding: 20px;
            border-radius: 10px;
            min-height: 150px;
        }

        .strengths { background: #d4f6d4; border-left: 5px solid #28a745; }
        .weaknesses { background: #ffe6e6; border-left: 5px solid #dc3545; }
        .opportunities { background: #e6f3ff; border-left: 5px solid #007bff; }
        .threats { background: #fff3e0; border-left: 5px solid #fd7e14; }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .team-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .phase-timeline {
            position: relative;
            margin: 30px 0;
        }

        .phase-item {
            display: flex;
            margin-bottom: 30px;
            align-items: flex-start;
        }

        .phase-number {
            background: #26a69a;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .phase-content {
            flex: 1;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #26a69a;
        }

        .gantt-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .gantt-header {
            display: grid;
            grid-template-columns: 200px repeat(16, 1fr);
            gap: 1px;
            margin-bottom: 10px;
        }

        .gantt-cell {
            padding: 10px;
            background: #f1f3f4;
            text-align: center;
            font-size: 0.9em;
            border-radius: 4px;
        }

        .gantt-row {
            display: grid;
            grid-template-columns: 200px repeat(16, 1fr);
            gap: 1px;
            margin-bottom: 5px;
            align-items: center;
        }

        .gantt-task {
            padding: 8px;
            background: #e3f2fd;
            font-size: 0.9em;
            font-weight: bold;
        }

        .gantt-bar {
            height: 25px;
            background: #1e88e5;
            border-radius: 4px;
            cursor: move;
            transition: background 0.3s ease;
            position: relative;
            user-select: none;
            min-width: 30px;
        }

        .gantt-bar:hover {
            background: #1565c0;
        }

        .gantt-bar.dragging {
            opacity: 0.7;
            z-index: 1000;
        }

        .gantt-bar::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            width: 6px;
            height: 100%;
            background: #0d47a1;
            cursor: ew-resize;
            border-radius: 0 4px 4px 0;
        }

        .gantt-bar.completed {
            background: #2e7d32;
        }

        .gantt-bar.completed:hover {
            background: #1b5e20;
        }

        .competitor-card {
            background: #fff3e0;
            border: 1px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .risk-high { color: #dc3545; font-weight: bold; }
        .risk-medium { color: #fd7e14; font-weight: bold; }
        .risk-low { color: #28a745; font-weight: bold; }

        .btn {
            background: #1e88e5;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            transition: background 0.3s ease;
        }

        .btn:hover {
            background: #1565c0;
        }

        .btn-success { background: #2e7d32; }
        .btn-success:hover { background: #1b5e20; }

        .btn-danger { background: #d32f2f; }
        .btn-danger:hover { background: #b71c1c; }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-pending { background: #ffc107; }
        .status-approved { background: #2e7d32; }
        .status-rejected { background: #d32f2f; }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .phase-details-btn {
            background: #26a69a;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background 0.3s ease;
            white-space: nowrap;
            margin-left: 15px;
        }

        .phase-details-btn:hover {
            background: #00796b;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            border-bottom: 2px solid #26a69a;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }

        .modal-header h3 {
            color: #1565c0;
            margin: 0;
            font-size: 1.5em;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            color: #999;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover,
        .close:focus {
            color: #d32f2f;
        }

        .modal-section {
            margin-bottom: 25px;
        }

        .modal-section h4 {
            color: #2e7d32;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .modal-editable {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            padding: 15px;
            border-radius: 8px;
            min-height: 100px;
            cursor: text;
            transition: all 0.3s ease;
        }

        .modal-editable:hover {
            border-color: #26a69a;
            background: #e0f2f1;
        }

        .modal-editable:focus {
            outline: none;
            border-color: #1e88e5;
            border-style: solid;
            background: white;
        }

        .bullet-btn {
            background: #1e88e5;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            margin: 5px 5px 5px 0;
        }

        .bullet-btn:hover {
            background: #1565c0;
        }

        .modal-footer {
            border-top: 1px solid #dee2e6;
            padding-top: 20px;
            margin-top: 30px;
            text-align: right;
        }

        @media (max-width: 768px) {
            .swot-grid {
                grid-template-columns: 1fr;
            }
            
            .gantt-header, .gantt-row {
                grid-template-columns: 150px repeat(16, 50px);
            }
            
            .modal-content {
                width: 95%;
                margin: 2% auto;
                padding: 20px;
            }
            
            .phase-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .phase-details-btn {
                align-self: flex-start;
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Projeto PCR - Precifica√ß√£o de Risco Clim√°tico</h1>
            <p>Reuni√£o de Valida√ß√£o do Plano de Trabalho</p>
            <p><strong>Data:</strong> <span contenteditable="true" class="editable" style="display: inline-block; min-width: 150px;">23/05/2025</span></p>
        </div>

        <!-- SE√á√ÉO 1: GO/NO-GO DECISION -->
        <div class="section">
            <h2>1. Decis√£o Go/No-Go</h2>
            
            <h3>An√°lise SWOT</h3>
            <div class="swot-grid">
                <div class="swot-item strengths">
                    <h4><strong>For√ßas (Strengths)</strong></h4>
                    <div contenteditable="true" class="editable">
                        ‚Ä¢ Equipe multidisciplinar especializada<br>
                        ‚Ä¢ Parceria t√©cnica com AtmosMarine<br>
                        ‚Ä¢ Uso de biblioteca consolidada (CLIMADA)<br>
                        ‚Ä¢ Experi√™ncia da EVP em consultoria ESG<br>
                        ‚Ä¢ Abordagem incremental (POC ‚Üí MVP)
                    </div>
                </div>
                
                <div class="swot-item weaknesses">
                    <h4><strong>Fraquezas (Weaknesses)</strong></h4>
                    <div contenteditable="true" class="editable">
                        ‚Ä¢ Depend√™ncia de biblioteca externa (CLIMADA)<br>
                        ‚Ä¢ Equipe nova trabalhando em conjunto<br>
                        ‚Ä¢ Complexidade t√©cnica alta<br>
                        ‚Ä¢ Tempo limitado para POC (415 horas)<br>
                        ‚Ä¢ Uso inicial de dados fict√≠cios
                    </div>
                </div>
                
                <div class="swot-item opportunities">
                    <h4><strong>Oportunidades (Opportunities)</strong></h4>
                    <div contenteditable="true" class="editable">
                        ‚Ä¢ Crescente demanda por avalia√ß√£o de risco f√≠sico<br>
                        ‚Ä¢ Regulamenta√ß√µes ESG em expans√£o<br>
                        ‚Ä¢ Mercado de precifica√ß√£o clim√°tica emergente<br>
                        ‚Ä¢ Potencial de diferencia√ß√£o da EVP<br>
                        ‚Ä¢ Escalabilidade para outros setores
                    </div>
                </div>
                
                <div class="swot-item threats">
                    <h4><strong>Amea√ßas (Threats)</strong></h4>
                    <div contenteditable="true" class="editable">
                        ‚Ä¢ Concorrentes j√° estabelecidos<br>
                        ‚Ä¢ Complexidade de valida√ß√£o cient√≠fica<br>
                        ‚Ä¢ Depend√™ncia de dados clim√°ticos externos<br>
                        ‚Ä¢ Poss√≠vel resist√™ncia do mercado<br>
                        ‚Ä¢ Evolu√ß√£o r√°pida das regulamenta√ß√µes
                    </div>
                </div>
            </div>

            <h3>An√°lise de Concorrentes</h3>
            <div class="competitor-card">
                <h4><strong>Management Solutions</strong> (www.managementsolutions.com)</h4>
                <div contenteditable="true" class="editable">
                    <strong>Pontos Fortes:</strong> Experi√™ncia consolidada, presen√ßa global, solu√ß√µes integradas<br>
                    <strong>Diferencia√ß√£o EVP:</strong> Foco no mercado brasileiro, especializa√ß√£o offshore, customiza√ß√£o local
                </div>
            </div>
            
            <div class="competitor-card">
                <h4><strong>Earth-Scan</strong> (www.earth-scan.com)</h4>
                <div contenteditable="true" class="editable">
                    <strong>Pontos Fortes:</strong> Tecnologia de sensoriamento, an√°lise geoespacial<br>
                    <strong>Diferencia√ß√£o EVP:</strong> Integra√ß√£o com CLIMADA, foco em ativos mar√≠timos, expertise local
                </div>
            </div>

            <h3>Principais Obst√°culos Identificados</h3>
            <div contenteditable="true" class="editable">
                <span class="risk-high">Alto Risco:</span> Complexidade de integra√ß√£o com CLIMADA<br>
                <span class="risk-medium">M√©dio Risco:</span> Disponibilidade e qualidade dos dados clim√°ticos<br>
                <span class="risk-medium">M√©dio Risco:</span> Sincroniza√ß√£o entre equipes geograficamente distribu√≠das<br>
                <span class="risk-low">Baixo Risco:</span> Capacita√ß√£o t√©cnica da equipe<br>
                <span class="risk-low">Baixo Risco:</span> Aceita√ß√£o do mercado para a POC
            </div>

            <h3>Decis√£o</h3>
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-success" onclick="updateStatus('approved')">
                    <span class="status-indicator status-approved"></span>GO - Aprovar Projeto
                </button>
                <button class="btn btn-danger" onclick="updateStatus('rejected')">
                    <span class="status-indicator status-rejected"></span>NO-GO - Rejeitar Projeto
                </button>
                <button class="btn" onclick="updateStatus('pending')">
                    <span class="status-indicator status-pending"></span>Pendente - Revis√µes Necess√°rias
                </button>
            </div>
            <div id="decision-status" contenteditable="true" class="editable">
                Status da Decis√£o: Aguardando discuss√£o...
            </div>
        </div>

        <!-- SE√á√ÉO 2: VALIDA√á√ÉO DO PLANO -->
        <div class="section">
            <h2>2. Valida√ß√£o do Plano de Trabalho</h2>
            
            <h3>Equipes e Expertises Necess√°rias</h3>
            <div class="team-grid">
                <div class="team-card">
                    <h4><strong>Ger√™ncia e Consultoria ESG</strong></h4>
                    <p><strong>Expertise:</strong> Coordena√ß√£o, gest√£o de projetos, conhecimento ESG</p>
                    <p><strong>Responsabilidades:</strong> Coordena√ß√£o geral, cronograma, entregas, apoio estrat√©gico</p>
                    <p><strong>Horas Totais:</strong> 51h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Modelagem</strong></h4>
                    <p><strong>Expertise:</strong> Modelos quantitativos, risco f√≠sico, CLIMADA</p>
                    <p><strong>Responsabilidades:</strong> Desenvolvimento e valida√ß√£o dos modelos de risco</p>
                    <p><strong>Horas Totais:</strong> 77h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Desenvolvimento Python</strong></h4>
                    <p><strong>Expertise:</strong> Programa√ß√£o Python, integra√ß√£o de dados, interface</p>
                    <p><strong>Responsabilidades:</strong> Codifica√ß√£o da plataforma, integra√ß√£o CLIMADA</p>
                    <p><strong>Horas Totais:</strong> 119h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Especialista em Mudan√ßas Clim√°ticas</strong></h4>
                    <p><strong>Expertise:</strong> Climatologia, cen√°rios clim√°ticos, valida√ß√£o cient√≠fica</p>
                    <p><strong>Responsabilidades:</strong> Curadoria de dados clim√°ticos, defini√ß√£o de cen√°rios</p>
                    <p><strong>Horas Totais:</strong> 61h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>Equipe de Risco</strong></h4>
                    <p><strong>Expertise:</strong> M√©todos estat√≠sticos, atuariais, quantitativos</p>
                    <p><strong>Responsabilidades:</strong> Revis√£o metodol√≥gica, precifica√ß√£o, Primavera</p>
                    <p><strong>Horas Totais:</strong> 41h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
                
                <div class="team-card">
                    <h4><strong>AtmosMarine</strong></h4>
                    <p><strong>Expertise:</strong> Dados meteo-oceanogr√°ficos, valida√ß√£o cient√≠fica</p>
                    <p><strong>Responsabilidades:</strong> M√∫ltiplas frentes, dados climaticos, risco offshore</p>
                    <p><strong>Horas Totais:</strong> 66h</p>
                    <div><strong>Pessoas:</strong></div>
                    <div contenteditable="true" class="editable">Nome(s) a definir...</div>
                </div>
            </div>

            <h3>Fases do Projeto - Valida√ß√£o</h3>
            <div class="phase-timeline">
                <div class="phase-item">
                    <div class="phase-number">0</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Kick-off e Alinhamento (1 semana - 9h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(0)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Reuni√£o inicial, defini√ß√£o de pap√©is, fluxo de comunica√ß√£o<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong> 
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">1</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Planejamento e Arquitetura (2 semanas - 48h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(1)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Mapear funcionalidades, definir arquitetura, selecionar tecnologias, criar reposit√≥rio<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">2</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Explora√ß√£o CLIMADA (2 semanas - 64h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(2)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Instalar CLIMADA, executar exemplos, testes com dados sint√©ticos, documentar requisitos<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">3</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Integra√ß√£o Dados Clim√°ticos (3 semanas - 84h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(3)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Coletar dados ERA5, desenvolver pipeline de ingest√£o, testes com dados sint√©ticos<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">4</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Modelagem Ativos Fict√≠cios (2 semanas - 72h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(4)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Criar base fict√≠cia, implementar c√°lculos AAL/VaR, gerar resultados<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">5</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Interface e Relat√≥rios (3 semanas - 88h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(5)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Interface gr√°fica, automatizar relat√≥rios PDF/HTML<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong>
                        </div>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-number">6</div>
                    <div class="phase-content">
                        <div class="phase-header">
                            <h4><strong>Valida√ß√£o e Documenta√ß√£o (1 semana - 50h)</strong></h4>
                            <button class="phase-details-btn" onclick="openPhaseModal(6)">üìã Detalhes</button>
                        </div>
                        <div contenteditable="true" class="editable">
                            <strong>Tarefas:</strong> Validar resultados, documentar processo, reuni√£o Go/No-Go MVP<br>
                            <strong>Valida√ß√£o:</strong> OK / Necessita ajustes<br>
                            <strong>Coment√°rios:</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SE√á√ÉO 3: CRONOGRAMA GANTT -->
        <div class="section">
            <h2>3. Cronograma Gantt Interativo</h2>
            
            <div class="gantt-container">
                <div class="gantt-header">
                    <div class="gantt-cell"><strong>Fase</strong></div>
                    <div class="gantt-cell">S1</div>
                    <div class="gantt-cell">S2</div>
                    <div class="gantt-cell">S3</div>
                    <div class="gantt-cell">S4</div>
                    <div class="gantt-cell">S5</div>
                    <div class="gantt-cell">S6</div>
                    <div class="gantt-cell">S7</div>
                    <div class="gantt-cell">S8</div>
                    <div class="gantt-cell">S9</div>
                    <div class="gantt-cell">S10</div>
                    <div class="gantt-cell">S11</div>
                    <div class="gantt-cell">S12</div>
                    <div class="gantt-cell">S13</div>
                    <div class="gantt-cell">S14</div>
                    <div class="gantt-cell">S15</div>
                    <div class="gantt-cell">S16</div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 0: Kick-off</div>
                    <div class="gantt-bar" style="background: #ff6b6b;" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 1: Planejamento</div>
                    <div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 2: CLIMADA</div>
                    <div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 3: Dados Clim√°ticos</div>
                    <div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 4: Modelagem</div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div><div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 5: Interface</div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div class="gantt-bar" onclick="toggleTask(this)"></div>
                    <div></div><div></div><div></div>
                </div>
                
                <div class="gantt-row">
                    <div class="gantt-task">Fase 6: Valida√ß√£o</div>
                    <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
                    <div class="gantt-bar" style="background: #28a745;" onclick="toggleTask(this)"></div>
                    <div></div><div></div>
                </div>
            </div>
            
            <div style="margin-top: 20px;">
                <p><strong>Legenda e Controles:</strong></p>
                <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
                    <div style="display: flex; align-items: center;">
                        <span class="gantt-bar" style="background: #ff6b6b; display: inline-block; width: 20px; height: 20px; margin-right: 8px;"></span>Kick-off
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span class="gantt-bar" style="background: #1e88e5; display: inline-block; width: 20px; height: 20px; margin-right: 8px;"></span>Fases Regulares
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span class="gantt-bar completed" style="display: inline-block; width: 20px; height: 20px; margin-right: 8px;"></span>Conclu√≠da
                    </div>
                    <button class="btn" onclick="resetGantt()" style="margin-left: 20px; padding: 8px 16px; font-size: 0.9em;">üîÑ Resetar Gantt</button>
                </div>
            </div>
            
            <h3>Considera√ß√µes sobre Paralelismo</h3>
            <div contenteditable="true" class="editable">
                ‚Ä¢ Fases 2 e 3 podem ter in√≠cio sobreposto ap√≥s valida√ß√£o inicial da CLIMADA<br>
                ‚Ä¢ Fase 4 depende da conclus√£o das Fases 2 e 3<br>
                ‚Ä¢ Fase 5 pode iniciar em paralelo com a finaliza√ß√£o da Fase 4<br>
                ‚Ä¢ Documenta√ß√£o (Fase 6) pode ser iniciada antes das fases anteriores terminarem
            </div>
        </div>

        <!-- SE√á√ÉO 4: PR√ìXIMOS PASSOS -->
        <div class="section">
            <h2>4. Pr√≥ximos Passos</h2>
            
            <h3>A√ß√µes Imediatas (pr√≥ximos 7 dias)</h3>
            <div contenteditable="true" class="editable">
                ‚ñ° Definir nomes das pessoas de cada equipe<br>
                ‚ñ° Estabelecer cronograma detalhado com datas espec√≠ficas<br>
                ‚ñ° Configurar ambiente de trabalho colaborativo (reposit√≥rio, comunica√ß√£o)<br>
                ‚ñ° Definir m√©tricas de sucesso para cada fase<br>
                ‚ñ° Agendar reuni√µes de acompanhamento semanais
            </div>
            
            <h3>Recursos Necess√°rios</h3>
            <div contenteditable="true" class="editable">
                <strong>Tecnol√≥gicos:</strong><br>
                ‚Ä¢ Acesso √†s bases de dados clim√°ticos (ERA5)<br>
                ‚Ä¢ Licen√ßas de software necess√°rio<br>
                ‚Ä¢ Ambiente de desenvolvimento Python<br>
                ‚Ä¢ Reposit√≥rio centralizado (GitHub/GitLab)<br><br>
                
                <strong>Humanos:</strong><br>
                ‚Ä¢ Confirma√ß√£o da disponibilidade das pessoas indicadas<br>
                ‚Ä¢ Defini√ß√£o de backup para fun√ß√µes cr√≠ticas<br>
                ‚Ä¢ Treinamento espec√≠fico em CLIMADA se necess√°rio<br><br>
                
                <strong>Financeiros:</strong><br>
                ‚Ä¢ Or√ßamento detalhado com base nas 415 horas estimadas<br>
                ‚Ä¢ Conting√™ncia para eventuais necessidades extras<br>
                ‚Ä¢ Custos de infraestrutura e dados
            </div>
            
            <h3>Crit√©rios de Sucesso da POC</h3>
            <div contenteditable="true" class="editable">
                1. Plataforma funcional capaz de calcular AAL e VaR para ativos fict√≠cios<br>
                2. Interface gr√°fica intuitiva e funcional<br>
                3. Relat√≥rios automatizados em formato executivo<br>
                4. Documenta√ß√£o t√©cnica completa e replic√°vel<br>
                5. Valida√ß√£o cient√≠fica dos resultados obtidos<br>
                6. Cronograma cumprido dentro do prazo estabelecido
            </div>
            
            <h3>Reuni√£o de Acompanhamento</h3>
            <div contenteditable="true" class="editable">
                <strong>Pr√≥xima reuni√£o:</strong> [Data a definir]<br>
                <strong>Frequ√™ncia:</strong> Semanal<br>
                <strong>Formato:</strong> H√≠brido (presencial/virtual)<br>
                <strong>Dura√ß√£o:</strong> 60 minutos<br>
                <strong>Respons√°vel:</strong> Ger√™ncia ESG
            </div>
        </div>

        <!-- SE√á√ÉO DE NOTAS -->
        <div class="section">
            <h2>5. Notas da Reuni√£o</h2>
            <div contenteditable="true" class="editable" style="min-height: 200px;">
                Espa√ßo para anota√ß√µes durante a reuni√£o...
                
                Participantes:
                -
                -
                -
                
                Decis√µes tomadas:
                -
                -
                -
                
                Action items:
                -
                -
                -
            </div>
        </div>
    </div>

    <!-- MODALS PARA DETALHES DAS FASES -->
    <div id="phaseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <h3 id="modalTitle">Detalhes da Fase</h3>
            </div>
            <div id="modalBody">
                <!-- Conte√∫do ser√° preenchido dinamicamente -->
            </div>
            <div class="modal-footer">
                <button class="btn bullet-btn" onclick="addBullet()">‚Ä¢ Adicionar Bullet</button>
                <button class="btn bullet-btn" onclick="addSubBullet()">‚ó¶ Adicionar Sub-bullet</button>
                <button class="btn" onclick="closeModal()">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        // Dados detalhados das fases baseados no plano de trabalho
        const phaseDetails = {
            0: {
                title: "Fase 0 - Kick-off e Alinhamento (1 semana - 9h)",
                objective: "Estabelecer o escopo do trabalho e alinhar expectativas quanto aos objetivos, pap√©is e entregas. Garantir uma base s√≥lida de comunica√ß√£o e governan√ßa.",
                tasks: [
                    "Realizar reuni√£o inicial para alinhamento de objetivos, responsabilidades e cronograma",
                    "Validar o objetivo da plataforma e os crit√©rios de sucesso da POC",
                    "Definir pap√©is e responsabilidades de cada membro da AtmosMarine, Inova√ß√£o e EVP",
                    "Estabelecer fluxo de trabalho e processos para versionamento e integra√ß√£o de c√≥digo",
                    "Definir frequ√™ncia e formato das reuni√µes de acompanhamento",
                    "Estabelecer premissas sobre o uso de dados fict√≠cios e reais ao longo do projeto",
                    "Criar diretrizes para comunica√ß√£o e resolu√ß√£o de conflitos",
                    "Planejar etapas futuras e marco de avalia√ß√£o para transi√ß√£o da POC para o MVP"
                ],
                deliverables: [
                    "Documento de alinhamento de expectativas",
                    "Cronograma detalhado validado",
                    "Matriz de responsabilidades",
                    "Fluxo de comunica√ß√£o estabelecido"
                ]
            },
            1: {
                title: "Fase 1 - Planejamento Inicial e Arquitetura da Plataforma (2 semanas - 48h)",
                objective: "Estrutura√ß√£o t√©cnica do projeto e defini√ß√£o de escopo m√≠nimo vi√°vel da plataforma, garantindo uma funda√ß√£o robusta para as etapas futuras.",
                tasks: [
                    "Mapear funcionalidades priorit√°rias e requisitos t√©cnicos essenciais",
                    "Definir arquitetura geral (dados, modelos, interface)",
                    "Selecionar tecnologias (CLIMADA, Python, Streamlit)",
                    "Criar reposit√≥rio centralizado e ambiente inicial de desenvolvimento",
                    "Estruturar como os dados ser√£o organizados",
                    "Planejar integra√ß√£o dos modelos CLIMADA",
                    "Definir como os resultados ser√£o disponibilizados ao frontend"
                ],
                deliverables: [
                    "Documento de arquitetura da solu√ß√£o",
                    "Reposit√≥rio configurado",
                    "Ambiente de desenvolvimento estabelecido",
                    "Stack tecnol√≥gica definida"
                ]
            },
            2: {
                title: "Fase 2 - Explora√ß√£o T√©cnica da Biblioteca CLIMADA (2 semanas - 64h)",
                objective: "Entender profundamente o funcionamento e requisitos da biblioteca CLIMADA, testando suas capacidades com dados de exemplo para reduzir riscos t√©cnicos futuros.",
                tasks: [
                    "Instalar e executar exemplos demonstrativos da CLIMADA",
                    "Reproduzir notebooks e c√≥digos de refer√™ncia da biblioteca",
                    "Entender a l√≥gica e funcionamento dos m√≥dulos principais (hazard, exposure, impact functions)",
                    "Realizar testes iniciais utilizando vari√°veis sint√©ticas e fict√≠cias",
                    "Simular entradas simplificadas (ativos gen√©ricos em regi√µes conhecidas)",
                    "Verificar se os outputs da biblioteca fazem sentido",
                    "Documentar requisitos obrigat√≥rios, limita√ß√µes t√©cnicas e necessidades futuras"
                ],
                deliverables: [
                    "Documenta√ß√£o t√©cnica da CLIMADA",
                    "Exemplos funcionais executados",
                    "Relat√≥rio de limita√ß√µes e requisitos",
                    "Testes iniciais validados"
                ]
            },
            3: {
                title: "Fase 3 - Integra√ß√£o de Dados Clim√°ticos Abertos (3 semanas - 84h)",
                objective: "Estrutura√ß√£o do pipeline de dados clim√°ticos confi√°veis, base fundamental para c√°lculos de risco consistentes e replic√°veis dentro da plataforma.",
                tasks: [
                    "Identificar e coletar dados clim√°ticos abertos (ERA5 e hist√≥ricos clim√°ticos)",
                    "Levantar bases p√∫blicas e confi√°veis, preferencialmente com acesso via API",
                    "Avaliar cobertura espacial e temporal necess√°ria para os ativos modelados",
                    "Desenvolver uma rotina inicial de ingest√£o de dados para valida√ß√£o",
                    "Programar scripts para carregar, tratar e transformar dados clim√°ticos",
                    "Adaptar dados para o formato esperado pela CLIMADA",
                    "Implementar testes automatizados",
                    "Realizar testes preliminares com dados sint√©ticos"
                ],
                deliverables: [
                    "Pipeline de ingest√£o de dados funcionando",
                    "Scripts de tratamento de dados",
                    "Testes automatizados implementados",
                    "Documenta√ß√£o do processo de dados"
                ]
            },
            4: {
                title: "Fase 4 - Modelagem de Ativos da OceanPact (Fict√≠cios) (2 semanas - 72h)",
                objective: "Teste dos modelos com ativos representativos da realidade do cliente, mesmo que simulados, para garantir a coer√™ncia e utilidade da metodologia aplicada.",
                tasks: [
                    "Criar base fict√≠cia com diferentes tipos de ativos",
                    "Definir coordenadas, valor e vida √∫til dos ativos",
                    "Elaborar estrutura representando navios, embarca√ß√µes ou estruturas fixas",
                    "Implementar o c√°lculo dos principais indicadores de risco (AAL e VaR)",
                    "Adaptar os modelos da CLIMADA para essa base",
                    "Gerar m√©tricas de impacto econ√¥mico associadas a eventos extremos",
                    "Gerar e validar resultados iniciais em formatos padronizados",
                    "Exportar outputs em CSV ou JSON"
                ],
                deliverables: [
                    "Base de ativos fict√≠cios criada",
                    "Modelos de c√°lculo implementados",
                    "Relat√≥rios de AAL e VaR",
                    "Resultados em formatos padronizados"
                ]
            },
            5: {
                title: "Fase 5 - Desenvolvimento da Interface Gr√°fica e Relat√≥rios Autom√°ticos (3 semanas - 88h)",
                objective: "Transformar os resultados t√©cnicos em visualiza√ß√µes e relat√≥rios compreens√≠veis para o p√∫blico-alvo, essencial para usabilidade e aceita√ß√£o da solu√ß√£o.",
                tasks: [
                    "Construir uma interface gr√°fica interativa para visualiza√ß√£o clara e acess√≠vel",
                    "Criar um dashboard simples e funcional",
                    "Implementar filtros por ativo, tipo de evento e cen√°rio clim√°tico",
                    "Utilizar Streamlit, Gradio ou framework equivalente",
                    "Automatizar gera√ß√£o de relat√≥rios simplificados em PDF ou HTML",
                    "Gerar documentos organizados e ilustrados com os resultados da modelagem",
                    "Preparar relat√≥rios prontos para apresenta√ß√£o aos tomadores de decis√£o"
                ],
                deliverables: [
                    "Interface gr√°fica funcional",
                    "Dashboard interativo",
                    "Sistema de relat√≥rios automatizado",
                    "Documenta√ß√£o de usu√°rio"
                ]
            },
            6: {
                title: "Fase 6 - Valida√ß√£o T√©cnica e Documenta√ß√£o da POC (1 semana - 50h)",
                objective: "Verifica√ß√£o da qualidade, confiabilidade e completude da POC. Documentar o conhecimento gerado e estabelecer crit√©rios objetivos para prosseguir ao MVP.",
                tasks: [
                    "Validar resultados frente a refer√™ncias cient√≠ficas e t√©cnicas",
                    "Revisar as sa√≠das da CLIMADA",
                    "Comparar com benchmarks de literatura",
                    "Verificar coer√™ncia metodol√≥gica",
                    "Documentar todo o processo realizado",
                    "Identificar claramente limita√ß√µes e pr√≥ximos passos",
                    "Registrar decis√µes t√©cnicas, aprendizados e lacunas detectadas",
                    "Realizar reuni√£o final para decis√£o de avan√ßo para o MVP (Go/No-Go)"
                ],
                deliverables: [
                    "Relat√≥rio de valida√ß√£o t√©cnica",
                    "Documenta√ß√£o completa do processo",
                    "An√°lise de limita√ß√µes e pr√≥ximos passos",
                    "Recomenda√ß√£o Go/No-Go para MVP"
                ]
            }
        };

        let currentPhaseIndex = null;

        function openPhaseModal(phaseIndex) {
            currentPhaseIndex = phaseIndex;
            const phase = phaseDetails[phaseIndex];
            const modal = document.getElementById('phaseModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');

            modalTitle.textContent = phase.title;
            
            modalBody.innerHTML = `
                <div class="modal-section">
                    <h4>üéØ Objetivo</h4>
                    <div class="modal-editable" contenteditable="true" id="objective-${phaseIndex}">
                        ${phase.objective}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>üìã Principais Tarefas</h4>
                    <div class="modal-editable" contenteditable="true" id="tasks-${phaseIndex}">
                        ${phase.tasks.map(task => `‚Ä¢ ${task}`).join('<br>')}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>üì¶ Entregas Esperadas</h4>
                    <div class="modal-editable" contenteditable="true" id="deliverables-${phaseIndex}">
                        ${phase.deliverables.map(deliverable => `‚Ä¢ ${deliverable}`).join('<br>')}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4>üí° Observa√ß√µes e Ajustes</h4>
                    <div class="modal-editable" contenteditable="true" id="notes-${phaseIndex}">
                        ‚Ä¢ Adicione observa√ß√µes espec√≠ficas da reuni√£o aqui...
                    </div>
                </div>
            `;

            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('phaseModal').style.display = 'none';
        }

        function addBullet() {
            const activeElement = document.activeElement;
            if (activeElement && activeElement.classList.contains('modal-editable')) {
                const selection = window.getSelection();
                const range = selection.getRangeAt(0);
                
                // Cria um novo elemento de texto com bullet
                const bulletText = document.createTextNode('\n‚Ä¢ ');
                range.insertNode(bulletText);
                
                // Move o cursor para o final do texto inserido
                range.setStartAfter(bulletText);
                range.setEndAfter(bulletText);
                selection.removeAllRanges();
                selection.addRange(range);
            } else {
                alert('Clique em uma √°rea edit√°vel primeiro');
            }
        }

        function addSubBullet() {
            const activeElement = document.activeElement;
            if (activeElement && activeElement.classList.contains('modal-editable')) {
                const selection = window.getSelection();
                const range = selection.getRangeAt(0);
                
                // Cria um novo elemento de texto com sub-bullet
                const subBulletText = document.createTextNode('\n  ‚ó¶ ');
                range.insertNode(subBulletText);
                
                // Move o cursor para o final do texto inserido
                range.setStartAfter(subBulletText);
                range.setEndAfter(subBulletText);
                selection.removeAllRanges();
                selection.addRange(range);
            } else {
                alert('Clique em uma √°rea edit√°vel primeiro');
            }
        }

        // Fechar modal clicando fora dele
        window.onclick = function(event) {
            const modal = document.getElementById('phaseModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Fechar modal com ESC
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        function updateStatus(status) {
            const statusDiv = document.getElementById('decision-status');
            const statusMap = {
                'approved': 'Status da Decis√£o: ‚úÖ APROVADO - Projeto pode prosseguir',
                'rejected': 'Status da Decis√£o: ‚ùå REJEITADO - Projeto necessita revis√£o maior',
                'pending': 'Status da Decis√£o: ‚è≥ PENDENTE - Aguardando ajustes e reavalia√ß√£o'
            };
            statusDiv.innerHTML = statusMap[status];
            statusDiv.style.fontWeight = 'bold';
            statusDiv.style.padding = '15px';
            statusDiv.style.borderRadius = '8px';
            statusDiv.style.backgroundColor = status === 'approved' ? '#e8f5e8' : 
                                            status === 'rejected' ? '#ffebee' : '#fff8e1';
        }

        function toggleTask(element) {
            if (element.classList.contains('completed')) {
                element.classList.remove('completed');
                element.title = 'Clique para marcar como conclu√≠do ou arraste para mover/redimensionar';
            } else {
                element.classList.add('completed');
                element.title = 'Tarefa conclu√≠da - Clique para desmarcar';
            }
        }

        // Vari√°veis para drag and drop do Gantt
        let isDragging = false;
        let isResizing = false;
        let currentTask = null;
        let startX = 0;
        let startPosition = 0;
        let startWidth = 0;

        function initGanttInteractivity() {
            const ganttBars = document.querySelectorAll('.gantt-bar');
            
            ganttBars.forEach(bar => {
                bar.addEventListener('mousedown', function(e) {
                    e.preventDefault();
                    
                    const rect = bar.getBoundingClientRect();
                    const isResizeArea = e.clientX > rect.right - 10;
                    
                    if (isResizeArea) {
                        isResizing = true;
                        bar.style.cursor = 'ew-resize';
                        startWidth = bar.offsetWidth;
                    } else {
                        isDragging = true;
                        bar.classList.add('dragging');
                        startPosition = Array.from(bar.parentNode.children).indexOf(bar);
                    }
                    
                    currentTask = bar;
                    startX = e.clientX;
                    
                    document.addEventListener('mousemove', handleMouseMove);
                    document.addEventListener('mouseup', handleMouseUp);
                });
                
                bar.addEventListener('click', function(e) {
                    // S√≥ executa o toggle se n√£o foi um drag/resize
                    if (!isDragging && !isResizing) {
                        toggleTask(bar);
                    }
                });
            });
        }

        function handleMouseMove(e) {
            if (!currentTask) return;
            
            const deltaX = e.clientX - startX;
            
            if (isResizing) {
                const newWidth = Math.max(30, startWidth + deltaX);
                currentTask.style.width = newWidth + 'px';
                currentTask.style.minWidth = newWidth + 'px';
            } else if (isDragging) {
                // L√≥gica para mover a barra horizontalmente
                const ganttRow = currentTask.parentNode;
                const cells = Array.from(ganttRow.children);
                const cellWidth = cells[1].offsetWidth;
                const moveSteps = Math.round(deltaX / cellWidth);
                
                if (moveSteps !== 0) {
                    moveTaskBar(currentTask, moveSteps);
                    startX = e.clientX;
                }
            }
        }

        function handleMouseUp(e) {
            if (currentTask) {
                currentTask.classList.remove('dragging');
                currentTask.style.cursor = 'move';
            }
            
            isDragging = false;
            isResizing = false;
            currentTask = null;
            
            document.removeEventListener('mousemove', handleMouseMove);
            document.removeEventListener('mouseup', handleMouseUp);
        }

        function moveTaskBar(taskBar, steps) {
            const row = taskBar.parentNode;
            const cells = Array.from(row.children);
            const currentIndex = cells.indexOf(taskBar);
            const newIndex = Math.max(1, Math.min(cells.length - 1, currentIndex + steps));
            
            if (newIndex !== currentIndex && newIndex > 0) {
                // Remove da posi√ß√£o atual
                taskBar.remove();
                
                // Insere na nova posi√ß√£o
                if (newIndex >= cells.length) {
                    row.appendChild(taskBar);
                } else {
                    row.insertBefore(taskBar, cells[newIndex]);
                }
            }
        }

        function resetGantt() {
            if (confirm('Tem certeza que deseja resetar o cronograma Gantt para a configura√ß√£o original?')) {
                location.reload();
            }
        }

        // Adicionar funcionalidade de salvar altera√ß√µes localmente
        function saveEdits() {
            const editables = document.querySelectorAll('[contenteditable="true"]');
            const data = {};
            editables.forEach((element, index) => {
                data[`editable_${index}`] = element.innerHTML;
            });
            
            // Salvar tamb√©m os dados dos modais
            Object.keys(phaseDetails).forEach(phaseIndex => {
                const objective = document.getElementById(`objective-${phaseIndex}`);
                const tasks = document.getElementById(`tasks-${phaseIndex}`);
                const deliverables = document.getElementById(`deliverables-${phaseIndex}`);
                const notes = document.getElementById(`notes-${phaseIndex}`);
                
                if (objective) data[`phase_${phaseIndex}_objective`] = objective.innerHTML;
                if (tasks) data[`phase_${phaseIndex}_tasks`] = tasks.innerHTML;
                if (deliverables) data[`phase_${phaseIndex}_deliverables`] = deliverables.innerHTML;
                if (notes) data[`phase_${phaseIndex}_notes`] = notes.innerHTML;
            });
            
            localStorage.setItem('pcr_meeting_data', JSON.stringify(data));
            
            // Mostrar feedback visual
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚úÖ Salvo!';
            btn.style.background = '#2e7d32';
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = '#1e88e5';
            }, 2000);
        }

        function loadEdits() {
            const saved = localStorage.getItem('pcr_meeting_data');
            if (saved) {
                const data = JSON.parse(saved);
                const editables = document.querySelectorAll('[contenteditable="true"]');
                editables.forEach((element, index) => {
                    if (data[`editable_${index}`]) {
                        element.innerHTML = data[`editable_${index}`];
                    }
                });
                
                // Carregar tamb√©m os dados dos modais para os objetos phaseDetails
                Object.keys(phaseDetails).forEach(phaseIndex => {
                    if (data[`phase_${phaseIndex}_objective`]) {
                        phaseDetails[phaseIndex].objective = data[`phase_${phaseIndex}_objective`];
                    }
                    if (data[`phase_${phaseIndex}_tasks`]) {
                        phaseDetails[phaseIndex].tasks = data[`phase_${phaseIndex}_tasks`].split('<br>').map(t => t.replace('‚Ä¢ ', ''));
                    }
                    if (data[`phase_${phaseIndex}_deliverables`]) {
                        phaseDetails[phaseIndex].deliverables = data[`phase_${phaseIndex}_deliverables`].split('<br>').map(d => d.replace('‚Ä¢ ', ''));
                    }
                });
                
                alert('Dados anteriores carregados!');
            }
        }

        // Carregar dados salvos ao iniciar
        window.onload = function() {
            // Inicializar interatividade do Gantt
            initGanttInteractivity();
            
            // Adicionar tooltips aos elementos interativos
            document.querySelectorAll('.gantt-bar').forEach(bar => {
                bar.title = 'Clique para marcar como conclu√≠do ou arraste para mover/redimensionar';
            });
            
            // Perguntar se quer carregar dados salvos
            if (localStorage.getItem('pcr_meeting_data')) {
                if (confirm('Existem dados salvos anteriormente. Deseja carreg√°-los?')) {
                    loadEdits();
                }
            }
        };

        // Salvar automaticamente a cada 2 minutos
        setInterval(saveEdits, 120000);

        // Adicionar bot√µes de controle
        document.body.insertAdjacentHTML('beforeend', `
            <div style="position: fixed; bottom: 8px; right: 20px; z-index: 1000;">
                <button class="btn" style="padding: 10px 8px; font-size: 0.7em;" onclick="saveEdits()" title="Salvar altera√ß√µes">üíæ Salvar</button>
                <button class="btn" style="padding: 10px 8px; font-size: 0.7em;" onclick="loadEdits()" title="Carregar dados salvos">üìÅ Carregar</button>
                <button class="btn" style="padding: 10px 8px; font-size: 0.7em;" onclick="window.print()" title="Imprimir apresenta√ß√£o">üñ®Ô∏è Imprimir</button>
            </div>
        `);
    </script>
</body>
</html>
